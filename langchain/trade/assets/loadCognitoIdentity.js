var me=Object.defineProperty;var xe=(e,n,t)=>n in e?me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var i=(e,n,t)=>xe(e,typeof n!="symbol"?n+"":n,t);import{c as Ee,r as fe,n as Z,g as Se,E as we,b as Pe,d as ve,e as Ce,p as Ie,N as ge,A as be,f as Ae,h as Re,S as ze,D as Fe,i as De,j as _e,k as ke,l as He,m as $e,o as Oe,q as Ue,t as Le,u as Ne,v as Te,w as Me,C as Ge,x as qe,y as je,z as Be,B as Ve,F as Je,G as Ke,H as We,I as Qe,J as Xe,K as Ye,L as Ze,M as et,O as tt,P as nt,Q as st,R,T as ot,U as m,a as ee,V as te}from"./index2.js";import{t as rt,f as it,s as at,F as dt,e as b,a as ct,p as lt,b as ut,g as ne}from"./widget.js";const se=(e,n)=>{const t={};for(const s in n)pt(t,e,n,s);return t},pt=(e,n,t,s)=>{if(n!==null){let r=t[s];typeof r=="function"&&(r=[,r]);const[p=ht,E=yt,S=s]=r;(typeof p=="function"&&p(n[S])||typeof p!="function"&&p)&&(e[s]=E(n[S]));return}let[o,a]=t[s];if(typeof a=="function"){let r;const p=o===void 0&&(r=a())!=null,E=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;p?e[s]=r:E&&(e[s]=a())}else{const r=o===void 0&&a!=null,p=typeof o=="function"&&!!o(a)||typeof o!="function"&&!!o;(r||p)&&(e[s]=a)}},ht=e=>e!=null,yt=e=>e,u=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(n=>n!=null).map(u);if(typeof e=="object"){const n={};for(const t of Object.keys(e))e[t]!=null&&(n[t]=u(e[t]));return n}return e},z=(e,n)=>Ee(e,n).then(t=>{if(t.length)try{return JSON.parse(t)}catch(s){throw(s==null?void 0:s.name)==="SyntaxError"&&Object.defineProperty(s,"$responseBodyText",{value:t}),s}return{}}),mt=async(e,n)=>{const t=await z(e,n);return t.message=t.message??t.Message,t},xt=(e,n)=>{const t=(a,r)=>Object.keys(a).find(p=>p.toLowerCase()===r.toLowerCase()),s=a=>{let r=a;return typeof r=="number"&&(r=r.toString()),r.indexOf(",")>=0&&(r=r.split(",")[0]),r.indexOf(":")>=0&&(r=r.split(":")[0]),r.indexOf("#")>=0&&(r=r.split("#")[1]),r},o=t(e.headers,"x-amzn-errortype");if(o!==void 0)return s(e.headers[o]);if(n&&typeof n=="object"){const a=t(n,"code");if(a&&n[a]!==void 0)return s(n[a]);if(n.__type!==void 0)return s(n.__type)}},Et=async(e,n,t)=>({operation:Se(n).operation,region:await Z(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ft(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function g(e){return{schemeId:"smithy.api#noAuth"}}const St=e=>{const n=[];switch(e.operation){case"GetCredentialsForIdentity":{n.push(g());break}case"GetId":{n.push(g());break}case"GetOpenIdToken":{n.push(g());break}case"UnlinkIdentity":{n.push(g());break}default:n.push(ft(e))}return n},wt=e=>{const n=fe(e);return Object.assign(n,{authSchemePreference:Z(e.authSchemePreference??[])})},Pt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),oe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},vt="3.821.0",Ct={version:vt},It=e=>new TextEncoder().encode(e),gt=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)},re="required",c="fn",l="argv",P="ref",q=!0,j="isSet",I="booleanEquals",w="error",x="endpoint",f="tree",F="PartitionResult",D="getAttr",v="stringEquals",B={[re]:!1,type:"String"},V={[re]:!0,default:!1,type:"Boolean"},J={[P]:"Endpoint"},ie={[c]:I,[l]:[{[P]:"UseFIPS"},!0]},ae={[c]:I,[l]:[{[P]:"UseDualStack"},!0]},d={},C={[P]:"Region"},K={[c]:D,[l]:[{[P]:F},"supportsFIPS"]},de={[P]:F},W={[c]:I,[l]:[!0,{[c]:D,[l]:[de,"supportsDualStack"]}]},Q=[ie],X=[ae],Y=[C],bt={parameters:{Region:B,UseDualStack:V,UseFIPS:V,Endpoint:B},rules:[{conditions:[{[c]:j,[l]:[J]}],rules:[{conditions:Q,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:w},{conditions:X,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:w},{endpoint:{url:J,properties:d,headers:d},type:x}],type:f},{conditions:[{[c]:j,[l]:Y}],rules:[{conditions:[{[c]:"aws.partition",[l]:Y,assign:F}],rules:[{conditions:[ie,ae],rules:[{conditions:[{[c]:I,[l]:[q,K]},W],rules:[{conditions:[{[c]:v,[l]:[C,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:d,headers:d},type:x},{conditions:[{[c]:v,[l]:[C,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:d,headers:d},type:x},{conditions:[{[c]:v,[l]:[C,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:d,headers:d},type:x},{conditions:[{[c]:v,[l]:[C,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:d,headers:d},type:x},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:d,headers:d},type:x}],type:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:w}],type:f},{conditions:Q,rules:[{conditions:[{[c]:I,[l]:[K,q]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:d,headers:d},type:x}],type:f},{error:"FIPS is enabled but this partition does not support FIPS",type:w}],type:f},{conditions:X,rules:[{conditions:[W],rules:[{conditions:[{[c]:v,[l]:["aws",{[c]:D,[l]:[de,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:d,headers:d},type:x},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:d,headers:d},type:x}],type:f},{error:"DualStack is enabled but this partition does not support DualStack",type:w}],type:f},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:d,headers:d},type:x}],type:f}],type:f},{error:"Invalid Configuration: Missing Region",type:w}]},At=bt,Rt=new we({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),zt=(e,n={})=>Rt.get(e,()=>Pe(At,{endpointParams:e,logger:n.logger}));Ce.aws=ve;const Ft=e=>({apiVersion:"2014-06-30",base64Decoder:(e==null?void 0:e.base64Decoder)??it,base64Encoder:(e==null?void 0:e.base64Encoder)??rt,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??zt,extensions:(e==null?void 0:e.extensions)??[],httpAuthSchemeProvider:(e==null?void 0:e.httpAuthSchemeProvider)??St,httpAuthSchemes:(e==null?void 0:e.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new be},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ae}],logger:(e==null?void 0:e.logger)??new ge,serviceId:(e==null?void 0:e.serviceId)??"Cognito Identity",urlParser:(e==null?void 0:e.urlParser)??Ie,utf8Decoder:(e==null?void 0:e.utf8Decoder)??It,utf8Encoder:(e==null?void 0:e.utf8Encoder)??gt}),Dt=e=>{const n=Re(e),t=()=>n().then(Ue),s=Ft(e);return{...s,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??He,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ke({serviceId:s.serviceId,clientVersion:Ct.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??_e,region:(e==null?void 0:e.region)??De("Region is missing"),requestHandler:dt.create((e==null?void 0:e.requestHandler)??t),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await t()).retryMode||Fe),sha256:(e==null?void 0:e.sha256)??ze,streamCollector:(e==null?void 0:e.streamCollector)??at,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(Oe)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve($e))}},_t=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,t){var s;(s=e.httpHandler)==null||s.updateHttpClientConfig(n,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),kt=e=>({httpHandler:e.httpHandler()});class A{constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const t=new A({...n,headers:{...n.headers}});return t.query&&(t.query=Ht(t.query)),t}static isInstance(n){if(!n)return!1;const t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return A.clone(this)}}function Ht(e){return Object.keys(e).reduce((n,t)=>{const s=e[t];return{...n,[t]:Array.isArray(s)?[...s]:s}},{})}const $t=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(o){const a=n.findIndex(r=>r.schemeId===o.schemeId);a===-1?n.push(o):n.splice(a,1,o)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(o){t=o},httpAuthSchemeProvider(){return t},setCredentials(o){s=o},credentials(){return s}}},Ot=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Ut=(e,n)=>{const t=Object.assign(Le(e),Ne(e),_t(e),$t(e));return n.forEach(s=>s.configure(t)),Object.assign(e,Te(t),Me(t),kt(t),Ot(t))};class ln extends Ge{constructor(...[t]){const s=Dt(t||{});super(s);i(this,"config");this.initConfig=s;const o=Pt(s),a=qe(o),r=je(a),p=Be(r),E=tt(p),S=Ve(E),pe=wt(S),he=Ut(pe,(t==null?void 0:t.extensions)||[]);this.config=he,this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Xe(this.config)),this.middlewareStack.use(Ye(this.config)),this.middlewareStack.use(Ze(this.config,{httpAuthSchemeParametersProvider:Et,identityProviderConfigProvider:async ye=>new nt({"aws.auth#sigv4":ye.credentials})})),this.middlewareStack.use(et(this.config))}destroy(){super.destroy()}}class h extends st{constructor(n){super(n),Object.setPrototypeOf(this,h.prototype)}}class _ extends h{constructor(t){super({name:"InternalErrorException",$fault:"server",...t});i(this,"name","InternalErrorException");i(this,"$fault","server");Object.setPrototypeOf(this,_.prototype)}}class k extends h{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t});i(this,"name","InvalidParameterException");i(this,"$fault","client");Object.setPrototypeOf(this,k.prototype)}}class H extends h{constructor(t){super({name:"LimitExceededException",$fault:"client",...t});i(this,"name","LimitExceededException");i(this,"$fault","client");Object.setPrototypeOf(this,H.prototype)}}class $ extends h{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t});i(this,"name","NotAuthorizedException");i(this,"$fault","client");Object.setPrototypeOf(this,$.prototype)}}class O extends h{constructor(t){super({name:"ResourceConflictException",$fault:"client",...t});i(this,"name","ResourceConflictException");i(this,"$fault","client");Object.setPrototypeOf(this,O.prototype)}}class U extends h{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});i(this,"name","TooManyRequestsException");i(this,"$fault","client");Object.setPrototypeOf(this,U.prototype)}}class L extends h{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});i(this,"name","ResourceNotFoundException");i(this,"$fault","client");Object.setPrototypeOf(this,L.prototype)}}class N extends h{constructor(t){super({name:"ExternalServiceException",$fault:"client",...t});i(this,"name","ExternalServiceException");i(this,"$fault","client");Object.setPrototypeOf(this,N.prototype)}}class T extends h{constructor(t){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...t});i(this,"name","InvalidIdentityPoolConfigurationException");i(this,"$fault","client");Object.setPrototypeOf(this,T.prototype)}}class M extends h{constructor(t){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...t});i(this,"name","DeveloperUserAlreadyRegisteredException");i(this,"$fault","client");Object.setPrototypeOf(this,M.prototype)}}class G extends h{constructor(t){super({name:"ConcurrentModificationException",$fault:"client",...t});i(this,"name","ConcurrentModificationException");i(this,"$fault","client");Object.setPrototypeOf(this,G.prototype)}}const Lt=e=>({...e,...e.Logins&&{Logins:R}}),Nt=e=>({...e,...e.SecretKey&&{SecretKey:R}}),Tt=e=>({...e,...e.Credentials&&{Credentials:Nt(e.Credentials)}}),Mt=e=>({...e,...e.Logins&&{Logins:R}}),Gt=async(e,n)=>{const t=ue("GetCredentialsForIdentity");let s;return s=JSON.stringify(u(e)),le(n,t,"/",void 0,s)},qt=async(e,n)=>{const t=ue("GetId");let s;return s=JSON.stringify(u(e)),le(n,t,"/",void 0,s)},jt=async(e,n)=>{if(e.statusCode>=300)return ce(e,n);const t=await z(e.body,n);let s={};return s=on(t),{$metadata:y(e),...s}},Bt=async(e,n)=>{if(e.statusCode>=300)return ce(e,n);const t=await z(e.body,n);let s={};return s=u(t),{$metadata:y(e),...s}},ce=async(e,n)=>{const t={...e,body:await mt(e.body,n)},s=xt(e,t.body);switch(s){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Wt(t);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Xt(t);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Yt(t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await Zt(t);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await en(t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await nn(t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await tn(t);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Kt(t);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await Qt(t);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Jt(t);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await Vt(t);default:const o=t.body;return rn({output:e,parsedBody:o,errorCode:s})}},Vt=async(e,n)=>{const t=e.body,s=u(t),o=new G({$metadata:y(e),...s});return m(o,t)},Jt=async(e,n)=>{const t=e.body,s=u(t),o=new M({$metadata:y(e),...s});return m(o,t)},Kt=async(e,n)=>{const t=e.body,s=u(t),o=new N({$metadata:y(e),...s});return m(o,t)},Wt=async(e,n)=>{const t=e.body,s=u(t),o=new _({$metadata:y(e),...s});return m(o,t)},Qt=async(e,n)=>{const t=e.body,s=u(t),o=new T({$metadata:y(e),...s});return m(o,t)},Xt=async(e,n)=>{const t=e.body,s=u(t),o=new k({$metadata:y(e),...s});return m(o,t)},Yt=async(e,n)=>{const t=e.body,s=u(t),o=new H({$metadata:y(e),...s});return m(o,t)},Zt=async(e,n)=>{const t=e.body,s=u(t),o=new $({$metadata:y(e),...s});return m(o,t)},en=async(e,n)=>{const t=e.body,s=u(t),o=new O({$metadata:y(e),...s});return m(o,t)},tn=async(e,n)=>{const t=e.body,s=u(t),o=new L({$metadata:y(e),...s});return m(o,t)},nn=async(e,n)=>{const t=e.body,s=u(t),o=new U({$metadata:y(e),...s});return m(o,t)},sn=(e,n)=>se(e,{AccessKeyId:b,Expiration:t=>ct(lt(ut(t))),SecretKey:b,SessionToken:b}),on=(e,n)=>se(e,{Credentials:t=>sn(t),IdentityId:b}),y=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),rn=ot(h),le=async(e,n,t,s,o)=>{const{hostname:a,protocol:r="https",port:p,path:E}=await e.endpoint(),S={protocol:r,hostname:a,port:p,method:"POST",path:E.endsWith("/")?E.slice(0,-1)+t:E+t,headers:n};return o!==void 0&&(S.body=o),new A(S)};function ue(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class un extends ee.classBuilder().ep(oe).m(function(n,t,s,o){return[ne(s,this.serialize,this.deserialize),te(s,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(Lt,Tt).ser(Gt).de(jt).build(){}class pn extends ee.classBuilder().ep(oe).m(function(n,t,s,o){return[ne(s,this.serialize,this.deserialize),te(s,n.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(Mt,void 0).ser(qt).de(Bt).build(){}export{ln as CognitoIdentityClient,un as GetCredentialsForIdentityCommand,pn as GetIdCommand};
